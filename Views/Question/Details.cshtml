@model IEnumerable<Forum_descussion_ASP.NET_core_mvc.Models.ResponseModel>

@{
    ViewData["Title"] = "Details";
    var iduser = ViewData["iduser"];
    var isResolu = ViewData["isResolu"];
    var datecreation = @ViewData["DateCreation"];
    var idquestion = @ViewData["idquestion"];

}

@if (ViewData["iduser"] == null)
{
    <partial name="../Shared/Nav_non_connected.cshtml" />

}
else
{
    <partial name="../Shared/Nav_connected.cshtml" />

}

<link rel="stylesheet" href="~/css/question_detail.css" />

<div class="container">
    <main role="main" class="pb-3">

        <h1>
            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" color="#9a7ce3" fill="currentColor" class="bi bi-chat" viewBox="0 0 16 16">
                <path d="M2.678 11.894a1 1 0 0 1 .287.801 10.97 10.97 0 0 1-.398 2c1.395-.323 2.247-.697 2.634-.893a1 1 0 0 1 .71-.074A8.06 8.06 0 0 0 8 14c3.996 0 7-2.807 7-6 0-3.192-3.004-6-7-6S1 4.808 1 8c0 1.468.617 2.83 1.678 3.894zm-.493 3.905a21.682 21.682 0 0 1-.713.129c-.2.032-.352-.176-.273-.362a9.68 9.68 0 0 0 .244-.637l.003-.01c.248-.72.45-1.548.524-2.319C.743 11.37 0 9.76 0 8c0-3.866 3.582-7 8-7s8 3.134 8 7-3.582 7-8 7a9.06 9.06 0 0 1-2.347-.306c-.52.263-1.639.742-3.468 1.105z" />
            </svg>
            <a asp-controller="home" asp-action="Index"> Forum-Discussion</a> > <a asp-action="Index"> Les Questions </a> >Question


        </h1>

        <div class="forum-question1">
            <div class="question-categorie"> Posted in: <a>@ViewData["Topic"]</a></div>
            <h3 class="question-titre">
                
                @ViewData["Titre"] 
                @if (isResolu.Equals(true))
                {
                    <div style="color: green; display: inline;">
                        ( Résolu ) <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" color="green" fill="currentColor" class="bi bi-check-square-fill" viewBox="0 0 16 16">
                            <path d="M2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2zm10.03 4.97a.75.75 0 0 1 .011 1.05l-3.992 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.75.75 0 0 1 1.08-.022z" />
                        </svg> 
                    </div>
                }
            </h3>
            
            <div class="div-persona">
                <img class="question-auteur-image" src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBxEHBhUQEhASFBUXFhUYFxUYDxUSEhIWFRUXFhYVFRYYHSggJBolHhcTITIiJikrLy4uGCEzODMuNygtLisBCgoKBQUFDgUFDisZExkrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrK//AABEIAOEA4QMBIgACEQEDEQH/xAAcAAEAAgMBAQEAAAAAAAAAAAAABQYDBAcCAQj/xAA/EAACAQICBgYGBwcFAAAAAAAAAQIDEQQFBhIhMUFREyJhcYGRBzJSobHBFEJicpLR4RYjQ2NzsvAVM4Kio//EABQBAQAAAAAAAAAAAAAAAAAAAAD/xAAUEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwDuIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGvicZDDLrPbyW1gbB8lJRV27EHiM2nU2RWqvNmhUm6krybfe7gWOePpQ+uvDb8DE82pLi/wkAAJ5ZtSftfhMsMxpT+uvFNfErgAtcJqaumn3O56KnGThK6bT5p2N3D5rUpb+su3f5gT4NXC4+GJ2J2fJ7/A2gAAAAAAAAAAAAAAAAAAAAAAfG7IN2RB5lmHTvVj6v936AZsdmv1af4vy/MiW3J3YAAA8ykoRbbSS3tuyXewPQKjnum1PCS1MOo1Zbbzu1Ti+z2vBpdpVMTpRjMTK7ryj2QSgl5bfNgdZByShpLjKErrETfZK015STLNkmnKqVFDExUf5kb6t/tQ22Xam+4C6gx0a0a9NShKMovc000/FGQASWBzR0+rPaufFfmRoAtcJKcbp3T4noruAxzws7PbF71y7UWCE1OKad0wPQAAAAAAAAAAAAAAAABr47EfRsO5cdy7wNDOMZt6OL+8/kRIb1ndgAAANbMMbDL8HKrUdoxV3xb4JJc27I5dn2kNbOarUm4079Wmn1Vy1ub7/AAJ70kZg3Wp4ZPYl0ku1u8Yp9y1n4opQAAAAABvZRm9bKK+tSlZP1oPbCfevnvOpZHm9POcF0kLpp2lF74S327u04+Wb0f494XOui+rVVv8AlBOUbf8AZeIHSwAAJDKcZ0NTUk+q93Y/yZHgC2g0srxP0jD7d8dj+TN0AAAAAAAAAAAAAAEFnVfpMTq8I/F/4iclLVjd8Cq1JupUcnxbfmB5AAAAAcq02q9JpNV+zqR8qcX8yDJvTWl0ek1X7WpLzpxXyIQAAAAAAG9kVXoc7oS/m0/fJL5mibuSUumzqjH+bT900/kB2QAAAABt5XX6DFrk9j8d3vLEVItGFqdNh4y5pefEDKAAAAAAAAAAAAA1synqYGT7LeewrZP5y7YHxRAAAAAANHO6zw2T1prfGnNrv1XYDnGmeOpZhnbnSlrR1Ixbs0nKLle1963bSDPiVkfQAAAAAASGj2Khgs7pVajtCMrt2bt1Wk7LbvaI8AdupVFWpKUWnFpNNbmmrpo9kHoVWdbRqlf6utFd0ZNL3WJwAAABPZLPWwVuTa+fzIEmchf7mS7V8AJQAAAAAAAAAAAABoZ0r4LxRAljzSOvgZd1/J3K4AAAAx4ijHE0JU5erKLi+5qzMgA4liaEsLiJU5etGTi+V4uza8jGXzTTRmMoVcZCdmlrTha6layck+Dtt8ChgAAAAAAAtuhujMcwhHFVJdWM3aCXrOD3yfK/DsAu2SYL/Tspp0uMYrW5OT2yfm2bwAAAACZyFfupd6+BDE7kkdXB35yfyXyAkAAAAAAAAAAAAAHmcdeDT4q3mVWUdSVnvWzyLYQGcUeixd+EtvjxA0QAAAAGtmWG+mZdUpe3CUfxRaRxdpp2ex8VyfFHcTlWmmFjhNIqiirKSjO3JyXWt4pvxAgwAAAAA61onhXg9HqMWrNx1n3zbn8zmeRYWONzmlSl6spxuuaW1rxSt4nYlsA+gAAAABZ8HT6HCxj2K/fvZAZfR6fFpcFtfcv8RZQAAAAAAAAAAAAAAauY4b6ThmlvW1fkbQAqQJLN8H0dTpEtj39j/UjQAMdetHD0nOclGK3ybSS8WVTNdOqVC8aEHUftPq07/wBz93eBbzmnpDt+0C/pQv2bZfKxE5hneJzGprVK0vuxbhBd0V+rI9u7AAAAAAJjQ+37S0b+0/PUlb32OsnDjcwea18DUUqdacbcNZuL7HF7GB2UFKynTyMko4im4vjOCvHvcHtXhct2DxdPHUNenOM4807+D5PsYGcA3Mswn0mtd+qt/a+QEjk+G6GhrPfL3LgSAAAAAAAAAAAAAAAAAAHmcVOLTV0znun2PxGjaTpUVKnPYqrblGEuEJRXHk27M6IYsVhoYzDyp1IqcJJqUWrpp8GB+cMxzKtmdXWq1JTa3J7Ix+7FbEapetMfR5VyputhVKrR2tw2yq0lyS3yiue/nfeUQD6AAAAAAAAAABmweMqYGvr0pyhLmnv7GtzXYzCWzRDQavpBJVJ61Gh7bXXqf0ovevtPZyuBYNBc4xWkOLdKVJOMV16y6qhyTW5yfJW5nTqNJUaajFWSMGVZbSynAxo0YKEI7ktrb4tt7W3zZtgAAAAAAAAAAAAAAAAAAAAAAqmk2gWFz2TqJdDVf8SC2SfOcNiffsfaWsAcHzzQTHZQ2+i6aC+vSTn5w9ZeTXaVlq0rPet64rvR+niOzPIsLmv+/hqVR8JSpxcl3S3rwYH5yB2rGejLL8Q7xVak/s1m15TUiOn6JsO31cVWXfGm/gkByYHWIeiWhfbiq3hCC+KZv4T0X4Ci7zdep96qor/zUQOL3sT+SaHY7OWnChKEH/EqXpQtzV1d+CZ2rLdGsFlcr0cLSjL29RSqfjd5e8lgKTo16OMNlbVSu/pFRbdsbUovsp3d++V+5F2SsgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD//Z" />
                <div>
                    <div class="question-auteur-nom"> @ViewData["NameUser"]  </div>
                    <div class="question-date-creation">
                        @ViewData["DateCreation"]

                    </div>
                </div>
            </div>
            <br />
            <div class="question-contenu">                    
                    @ViewData["Description"] 
            </div>
            <div style="margin-left: 50px;">
             
                <form method="post" action="/Enregistrement/postEnregistrerQuestion">
                    <input type="hidden" name="QuestionId" value="@ViewData["idquestion"]" />
                    <input type="hidden" name="UserId" value="@ViewData["iduser"]" />
                    <button type="submit" class="btn-save"> Enregistrer </button>
                </form>
            </div>

          
            <br />
        </div>


    @foreach (var item in Model)
    {
      

    <div class="forum-reponse">

        <div class="div-persona">
            <img class="reponse-auteur-image" src="data:image/jpeg;base64,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" />
            <div>
                <div class="reponse-auteur-nom">  @Html.DisplayFor(modelItem => item.User.NameUser ) </div>
                        <div class="reponse-date-creation">  @Html.DisplayFor(modelItem => item.DateCreation , "{0:MM/dd/yyyy}") </div>
            </div>
        </div>


        <div class="reponse-contenu">
                @Html.DisplayFor(modelItem => item.ResponseContent)
        </div>

@*     Impossible d'appliquer l'opérateur '==' aux opérandes de type 'int' et 'object'	  
*@

                <div style="margin-left: 50px;">

        @if ( item.UserId.Equals(iduser))
         {
            <a class="btn-edit-response" asp-controller="Response" asp-action="Edit" asp-route-id="@item.Id">Edit</a>
            <a class="btn-delete-response" asp-controller="Response" asp-action="Delete" asp-route-id="@item.Id">Delete</a>

            
         }else{
                        
               <form method="post" action="/Enregistrement/postEnregistrerReponse">
                   <input type="hidden" name="QuestionId" value="@ViewData["idquestion"]" />
                   <input type="hidden" name="ResponseId" value="@item.Id" />
                   <input type="hidden" name="UserId" value="@ViewData["iduser"]" />
                   <button type="submit" class="btn-save"> Enregistrer </button>
               </form>
                        
         }
                </div>
     </div>  

    }

    <div id="createreponse"></div>

        @section Scripts{
            <script>
                $('#updatereponse').hide();
                $('#updatereponse').load("/Response/Edit?id=" + @idquestion)

                $('#createreponse').load("/Response/Create?id=" + @idquestion)
            </script>
        }
       
        </br></br></br></br></br>
        </br></br></br></br></br>
       

    </main></div>